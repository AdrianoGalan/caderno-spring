"use strict";(self.webpackChunkcaderno_angular=self.webpackChunkcaderno_angular||[]).push([[923],{7923:(G,f,r)=>{r.r(f),r.d(f,{PdfModule:()=>B});var g=r(529),n=r(4006),v=r(7490),p=r(6895),t=r(4650),d=r(858),h=r(5698),x=r(2340);let P=(()=>{class a{constructor(e){this.http=e,this.API=`${x.N.API}api/pdf/`}gerar(){return this.http.get(`${this.API}gerar`,{responseType:"arraybuffer"}).pipe((0,h.q)(1))}gerarMaquina(e){return this.http.get(`${this.API}gerar/${e}`,{responseType:"arraybuffer"}).pipe((0,h.q)(1))}}return a.\u0275fac=function(e){return new(e||a)(t.LFG(g.eN))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var b=r(1441),y=r(7009),M=r(5938),C=r(4859),m=r(3546),O=r(6709),c=r(9549),U=r(4144);function Z(a,s){if(1&a&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Oqu(e.getErrorMessage("Digite a sigla"))}}const w=[{path:"",component:(()=>{class a{constructor(e,o,i,l,u,T){this.router=e,this.formBuilder=o,this.service=i,this.serviceMaquina=l,this.snackBar=u,this.dialog=T,this.formulario=this.formBuilder.group({sigla:[null,[n.kI.required]],all:[!1]})}getErrorMessage(e){return e}ngOnInit(){}gerar(){this.formulario.value.all?(this.formulario.get("sigla")?.disable(),this.service.gerar().subscribe(e=>{const o=new Blob([e],{type:e.type}),i=window.URL.createObjectURL(o),l=document.createElement("a");l.href=i,l.download="maquinas.pdf",l.click(),window.URL.revokeObjectURL(i),l.remove(),this.router.navigate(["/"])})):this.formulario.valid?this.serviceMaquina.getBySigla(this.formulario.value.sigla).subscribe({next:e=>{e?this.service.gerarMaquina(e.sigla).subscribe(o=>{const i=new Blob([o],{type:o.type}),l=window.URL.createObjectURL(i),u=document.createElement("a");u.href=l,u.download="maquina_"+e.sigla+".pdf",u.click(),window.URL.revokeObjectURL(l),u.remove(),this.router.navigate(["/"])}):this.snackBar.open("Maquina n\xe3o cadastrada","Ok",{duration:3e3})}}):this.snackBar.open("Digite a sigla da maquina","Ok",{duration:3e3})}onSubmit(){this.gerar()}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(d.F0),t.Y36(n.qu),t.Y36(P),t.Y36(b.P),t.Y36(y.ux),t.Y36(M.uw))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-gerar-pdf"]],decls:17,vars:2,consts:[[1,"container"],[1,"form",3,"formGroup","ngSubmit"],["appearance","fill",1,"full-width"],["type","text","matInput","","placeholder","Digite a sigla da maquina","id","sigla","formControlName","sigla","required","",2,"text-transform","uppercase"],[4,"ngIf"],["id","all","formControlName","all",1,"example-margin"],["type","submit","mat-raised-button","","color","primary",1,"button-busca"]],template:function(e,o){if(1&e&&(t.TgZ(0,"mat-card",0)(1,"mat-card-title"),t._uU(2,"Gerar PDF"),t.qZA(),t._UZ(3,"br"),t.TgZ(4,"form",1),t.NdJ("ngSubmit",function(){return o.onSubmit()}),t.TgZ(5,"mat-card-actions")(6,"mat-form-field",2)(7,"mat-label"),t._uU(8,"Sigla"),t.qZA(),t._UZ(9,"input",3),t.YNc(10,Z,2,1,"mat-error",4),t.qZA(),t._UZ(11,"br"),t.qZA(),t.TgZ(12,"mat-card-actions")(13,"mat-checkbox",5),t._uU(14,"Todas as maquinas"),t.qZA(),t.TgZ(15,"button",6),t._uU(16,"Buscar"),t.qZA()()()()),2&e){let i;t.xp6(4),t.Q6J("formGroup",o.formulario),t.xp6(6),t.Q6J("ngIf",null==(i=o.formulario.get("sigla"))?null:i.hasError)}},dependencies:[p.O5,C.lW,m.a8,m.n5,m.hq,O.oG,c.TO,c.KE,c.hX,U.Nt,n._Y,n.Fj,n.JJ,n.JL,n.Q7,n.sg,n.u],styles:[".container[_ngcontent-%COMP%]{margin:2em auto;max-width:300px;padding-top:10px}.button-busca[_ngcontent-%COMP%]{padding:5px;margin:5px;width:100%;max-width:300px}.forms[_ngcontent-%COMP%]{min-width:150px;max-width:300px;width:100%}.full-width[_ngcontent-%COMP%]{width:100%;max-width:300px}mat-card-title[_ngcontent-%COMP%]{padding-top:25px}.example-button-container[_ngcontent-%COMP%]{display:flex;justify-content:right;margin:2em auto;max-width:1000px;padding:8px}.example-margin[_ngcontent-%COMP%]{margin-left:12px;padding-bottom:20px}"]}),a})()}];let A=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[d.Bz.forChild(w),d.Bz]}),a})(),B=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[p.ez,A,v.q,n.u5,g.JF,n.UX]}),a})()}}]);