"use strict";(self.webpackChunkcaderno_angular=self.webpackChunkcaderno_angular||[]).push([[389],{3389:(tt,g,m)=>{m.r(g),m.d(g,{UsuarioModule:()=>V});var d=m(6895),v=m(529),i=m(4006),b=m(5553),t=m(4650),f=m(8062),_=m(858),h=m(4859),u=m(3546),x=m(7392),s=m(3626),C=m(3848);function N(e,a){1&e&&(t.TgZ(0,"mat-header-cell"),t._uU(1," Nome "),t.qZA())}function w(e,a){if(1&e){const o=t.EpF();t.TgZ(0,"mat-cell",13),t.NdJ("click",function(){const l=t.CHM(o).$implicit,c=t.oxw();return t.KtG(c.onClick(l))}),t._uU(1),t.qZA()}if(2&e){const o=a.$implicit;t.xp6(1),t.hij(" ",o.nome," ")}}function A(e,a){1&e&&(t.TgZ(0,"mat-header-cell"),t._uU(1," Email "),t.qZA())}function k(e,a){if(1&e){const o=t.EpF();t.TgZ(0,"mat-cell",13),t.NdJ("click",function(){const l=t.CHM(o).$implicit,c=t.oxw();return t.KtG(c.onClick(l))}),t._uU(1),t.qZA()}if(2&e){const o=a.$implicit;t.xp6(1),t.hij(" ",o.email," ")}}function y(e,a){1&e&&t._UZ(0,"mat-header-cell")}function q(e,a){if(1&e){const o=t.EpF();t.TgZ(0,"mat-cell")(1,"button",14),t.NdJ("click",function(){const l=t.CHM(o).$implicit,c=t.oxw();return t.KtG(c.onRest(l))}),t.TgZ(2,"mat-icon"),t._uU(3,"restart_alt"),t.qZA()()()}}function S(e,a){1&e&&t._UZ(0,"mat-header-cell")}function J(e,a){if(1&e){const o=t.EpF();t.TgZ(0,"mat-cell")(1,"button",14),t.NdJ("click",function(){const l=t.CHM(o).$implicit,c=t.oxw();return t.KtG(c.onDelete(l))}),t.TgZ(2,"mat-icon"),t._uU(3,"delete"),t.qZA()()()}}function M(e,a){1&e&&t._UZ(0,"mat-header-row")}function O(e,a){1&e&&t._UZ(0,"mat-row")}function Y(e,a){1&e&&(t.TgZ(0,"mat-header-cell"),t._uU(1," Nome "),t.qZA())}function E(e,a){if(1&e){const o=t.EpF();t.TgZ(0,"mat-cell",13),t.NdJ("click",function(){const l=t.CHM(o).$implicit,c=t.oxw();return t.KtG(c.onClick(l))}),t._uU(1),t.qZA()}if(2&e){const o=a.$implicit;t.xp6(1),t.hij(" ",o.nome," ")}}function L(e,a){1&e&&(t.TgZ(0,"mat-header-cell"),t._uU(1," Email "),t.qZA())}function I(e,a){if(1&e){const o=t.EpF();t.TgZ(0,"mat-cell",13),t.NdJ("click",function(){const l=t.CHM(o).$implicit,c=t.oxw();return t.KtG(c.onClick(l))}),t._uU(1),t.qZA()}if(2&e){const o=a.$implicit;t.xp6(1),t.hij(" ",o.email," ")}}function Q(e,a){1&e&&t._UZ(0,"mat-header-cell")}function B(e,a){if(1&e){const o=t.EpF();t.TgZ(0,"mat-cell")(1,"button",14),t.NdJ("click",function(){const l=t.CHM(o).$implicit,c=t.oxw();return t.KtG(c.onRest(l))}),t.TgZ(2,"mat-icon"),t._uU(3,"repartition"),t.qZA()()()}}function D(e,a){1&e&&t._UZ(0,"mat-header-row")}function z(e,a){1&e&&t._UZ(0,"mat-row")}let F=(()=>{class e{constructor(o,n){this.service=o,this.router=n,this.dataSource=[],this.dataSourceInactive=[],this.displayedColumns=["nome","email","iconRest","iconDelete"],this.displayedColumnsInative=["nome","email","iconRest"]}ngOnInit(){this.service.list().subscribe({next:o=>this.dataSource=o}),this.service.listInactive().subscribe({next:o=>this.dataSourceInactive=o})}onClick(o){console.log(o)}onRest(o){this.service.reset(o).subscribe({next:()=>this.router.navigate(["/"])})}onDelete(o){this.service.delete(o).subscribe({next:()=>this.router.navigate(["/"])})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(f.i),t.Y36(_.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-list-usuario"]],decls:31,vars:6,consts:[["mat-align-tabs","start"],["label","Ativos"],[1,"mat-elevation-z8","table",3,"dataSource"],["matColumnDef","nome"],[4,"matHeaderCellDef"],[3,"click",4,"matCellDef"],["matColumnDef","email"],["matColumnDef","iconRest"],[4,"matCellDef"],["matColumnDef","iconDelete"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["label","Inativos"],[3,"click"],["mat-icon-button","","aria-label","expand row",3,"click"]],template:function(o,n){1&o&&(t.TgZ(0,"mat-card")(1,"mat-tab-group",0)(2,"mat-tab",1)(3,"mat-table",2),t.ynx(4,3),t.YNc(5,N,2,0,"mat-header-cell",4),t.YNc(6,w,2,1,"mat-cell",5),t.BQk(),t.ynx(7,6),t.YNc(8,A,2,0,"mat-header-cell",4),t.YNc(9,k,2,1,"mat-cell",5),t.BQk(),t.ynx(10,7),t.YNc(11,y,1,0,"mat-header-cell",4),t.YNc(12,q,4,0,"mat-cell",8),t.BQk(),t.ynx(13,9),t.YNc(14,S,1,0,"mat-header-cell",4),t.YNc(15,J,4,0,"mat-cell",8),t.BQk(),t.YNc(16,M,1,0,"mat-header-row",10),t.YNc(17,O,1,0,"mat-row",11),t.qZA()(),t.TgZ(18,"mat-tab",12)(19,"mat-table",2),t.ynx(20,3),t.YNc(21,Y,2,0,"mat-header-cell",4),t.YNc(22,E,2,1,"mat-cell",5),t.BQk(),t.ynx(23,6),t.YNc(24,L,2,0,"mat-header-cell",4),t.YNc(25,I,2,1,"mat-cell",5),t.BQk(),t.ynx(26,7),t.YNc(27,Q,1,0,"mat-header-cell",4),t.YNc(28,B,4,0,"mat-cell",8),t.BQk(),t.YNc(29,D,1,0,"mat-header-row",10),t.YNc(30,z,1,0,"mat-row",11),t.qZA()()()()),2&o&&(t.xp6(3),t.Q6J("dataSource",n.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",n.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns),t.xp6(2),t.Q6J("dataSource",n.dataSourceInactive),t.xp6(10),t.Q6J("matHeaderRowDef",n.displayedColumnsInative),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumnsInative))},dependencies:[h.lW,u.a8,x.Hw,s.BZ,s.fO,s.as,s.w1,s.Dz,s.nj,s.ge,s.ev,s.XQ,s.Gk,C.SP,C.uX],styles:[".table[_ngcontent-%COMP%]{width:100%;margin-top:20px}.mat-column-nome[_ngcontent-%COMP%]{width:50px;padding-right:50px;text-align:center}.mat-column-email[_ngcontent-%COMP%]{padding-right:50px;text-align:center}.mat-column-iconRest[_ngcontent-%COMP%], .mat-column-iconDelete[_ngcontent-%COMP%]{width:10px;text-align:right}"]}),e})();var U=m(7009),p=m(9549),Z=m(4144);function R(e,a){if(1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.Oqu(o.getErrorMessage("Email invalido"))}}let P=(()=>{class e{constructor(o,n,r,l){this.router=o,this.formBuilder=n,this.snackBar=r,this.usuarioService=l,this.hide=!0,this.formulario=this.formBuilder.group({email:[null,[i.kI.required,i.kI.email]]})}ngOnInit(){}onSubmit(){this.formulario.valid&&this.usuarioService.getUsuarioByEmail(this.formulario.value.email).subscribe({next:o=>{o?this.snackBar.open("Email j\xe1 cadastrado","Ok",{duration:3e3}):this.insert()},error:o=>{this.snackBar.open("Erro","Ok",{duration:3e3})}})}insert(){this.usuarioService.insert(this.formulario.value).subscribe({next:()=>{this.router.navigate([""])},error:o=>{this.snackBar.open("erro","Ok",{duration:3e3})}})}getErrorMessage(o){return o}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(_.F0),t.Y36(i.qu),t.Y36(U.ux),t.Y36(f.i))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-novo-usuario"]],decls:15,vars:2,consts:[[1,"container"],[1,"form",3,"formGroup","ngSubmit"],["appearance","fill",1,"full-width"],["type","email","matInput","","placeholder","pat@example.com","id","email","formControlName","email","required",""],[4,"ngIf"],["type","submit","mat-raised-button","","color","primary"]],template:function(o,n){if(1&o&&(t.TgZ(0,"mat-card",0)(1,"mat-card-title"),t._uU(2,"Novo Usuario"),t.qZA(),t._UZ(3,"br"),t.TgZ(4,"form",1),t.NdJ("ngSubmit",function(){return n.onSubmit()}),t.TgZ(5,"mat-card-actions")(6,"mat-form-field",2)(7,"mat-label"),t._uU(8,"Email"),t.qZA(),t._UZ(9,"input",3),t.YNc(10,R,2,1,"mat-error",4),t.qZA(),t._UZ(11,"br"),t.qZA(),t.TgZ(12,"mat-card-actions")(13,"button",5),t._uU(14,"Salvar"),t.qZA()()()()),2&o){let r;t.xp6(4),t.Q6J("formGroup",n.formulario),t.xp6(6),t.Q6J("ngIf",null==(r=n.formulario.get("email"))?null:r.hasError)}},dependencies:[d.O5,h.lW,u.a8,u.n5,u.hq,p.TO,p.KE,p.hX,Z.Nt,i._Y,i.Fj,i.JJ,i.JL,i.Q7,i.sg,i.u],styles:[".container[_ngcontent-%COMP%]{margin:2em auto;max-width:300px;padding-top:10px}button[_ngcontent-%COMP%]{padding:5px;margin:5px;width:70%;max-width:300px}.forms[_ngcontent-%COMP%]{min-width:150px;max-width:300px;width:100%}.full-width[_ngcontent-%COMP%]{width:100%;max-width:300px}mat-card-title[_ngcontent-%COMP%]{padding-top:25px}"]}),e})();var H=m(8943);function G(e,a){if(1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.Oqu(o.getErrorMessage("preencha o nome"))}}function $(e,a){if(1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.Oqu(o.getErrorMessage("Email invalido"))}}function j(e,a){if(1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.Oqu(o.getErrorMessage("Digite a Senha"))}}function K(e,a){if(1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.Oqu(o.getErrorMessage("Email n\xe3o s\xe3o iguais"))}}const X=[{path:"",component:F},{path:"update",component:(()=>{class e{constructor(o,n,r,l){this.router=o,this.formBuilder=n,this.snackBar=r,this.usuarioService=l,this.hide=!0,this.usuario=new H.b,this.formulario=this.formBuilder.group({nome:[null,[i.kI.required]],email:[localStorage.getItem("email")],senha:[null,[i.kI.required]],outraSenha:[null,i.kI.required]})}ngOnInit(){}salvar(){this.formulario.value.email=localStorage.getItem("email"),this.formulario.value.senha==this.formulario.value.outraSenha?this.formulario.valid&&this.usuarioService.update(this.formulario.value).subscribe({next:o=>{localStorage.clear(),this.router.navigate(["login"])},error:o=>{this.snackBar.open("erro","Ok",{duration:3e3})}}):this.snackBar.open("Senhas n\xe3o s\xe3o iguais","Ok",{duration:3e3})}getErrorMessage(o){return o}cancelar(){localStorage.clear(),this.router.navigate(["login"])}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(_.F0),t.Y36(i.qu),t.Y36(U.ux),t.Y36(f.i))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-atualizar-usuario"]],decls:41,vars:9,consts:[[1,"container"],[1,"form",3,"formGroup"],["appearance","fill",1,"full-width"],["type","text","matInput","","placeholder","Jose Silva","id","nome","formControlName","nome","required",""],[4,"ngIf"],["type","email","matInput","","placeholder","pat@example.com","id","email","formControlName","email"],["matInput","","id","senha","formControlName","senha","required","",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],["matInput","","id","outraSenha","formControlName","outraSenha","required","",3,"type"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","",3,"click"]],template:function(o,n){if(1&o&&(t.TgZ(0,"mat-card",0)(1,"mat-card-title"),t._uU(2,"Novo Usuario"),t.qZA(),t._UZ(3,"br"),t.TgZ(4,"form",1)(5,"mat-card-actions")(6,"mat-form-field",2)(7,"mat-label"),t._uU(8,"Nome"),t.qZA(),t._UZ(9,"input",3),t.YNc(10,G,2,1,"mat-error",4),t.qZA(),t._UZ(11,"br"),t.TgZ(12,"mat-form-field",2)(13,"mat-label"),t._uU(14,"Email"),t.qZA(),t._UZ(15,"input",5),t.YNc(16,$,2,1,"mat-error",4),t.qZA(),t._UZ(17,"br"),t.TgZ(18,"mat-form-field",2)(19,"mat-label"),t._uU(20,"Senha"),t.qZA(),t._UZ(21,"input",6),t.TgZ(22,"button",7),t.NdJ("click",function(){return n.hide=!n.hide}),t.TgZ(23,"mat-icon"),t._uU(24),t.qZA()(),t.YNc(25,j,2,1,"mat-error",4),t.qZA(),t._UZ(26,"br"),t.TgZ(27,"mat-form-field",2)(28,"mat-label"),t._uU(29,"Confirme a Senha"),t.qZA(),t._UZ(30,"input",8),t.TgZ(31,"button",7),t.NdJ("click",function(){return n.hide=!n.hide}),t.TgZ(32,"mat-icon"),t._uU(33),t.qZA()(),t.YNc(34,K,2,1,"mat-error",4),t.qZA()(),t.TgZ(35,"mat-card-actions")(36,"button",9),t.NdJ("click",function(){return n.salvar()}),t._uU(37,"Salvar"),t.qZA()(),t.TgZ(38,"mat-card-actions")(39,"button",10),t.NdJ("click",function(){return n.cancelar()}),t._uU(40,"Cancelar"),t.qZA()()()()),2&o){let r,l,c,T;t.xp6(4),t.Q6J("formGroup",n.formulario),t.xp6(6),t.Q6J("ngIf",null==(r=n.formulario.get("nome"))?null:r.hasError),t.xp6(6),t.Q6J("ngIf",null==(l=n.formulario.get("email"))?null:l.hasError),t.xp6(5),t.Q6J("type",n.hide?"password":"text"),t.xp6(3),t.Oqu(n.hide?"visibility_off":"visibility"),t.xp6(1),t.Q6J("ngIf",null==(c=n.formulario.get("senha"))?null:c.hasError),t.xp6(5),t.Q6J("type",n.hide?"password":"text"),t.xp6(3),t.Oqu(n.hide?"visibility_off":"visibility"),t.xp6(1),t.Q6J("ngIf",null==(T=n.formulario.get("outraSenha"))?null:T.hasError)}},dependencies:[d.O5,h.lW,u.a8,u.n5,u.hq,x.Hw,p.TO,p.KE,p.hX,p.R9,Z.Nt,i._Y,i.Fj,i.JJ,i.JL,i.Q7,i.sg,i.u],styles:[".container[_ngcontent-%COMP%]{margin:2em auto;max-width:300px;padding-top:10px}button[_ngcontent-%COMP%]{padding:5px;margin:5px;width:100%;max-width:300px}.forms[_ngcontent-%COMP%]{min-width:150px;max-width:300px;width:100%}.full-width[_ngcontent-%COMP%]{width:100%;max-width:300px}mat-card-title[_ngcontent-%COMP%]{padding-top:25px}"]}),e})()},{path:"new",component:P}];let W=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[_.Bz.forChild(X),_.Bz]}),e})(),V=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[d.ez,W,b.q,i.u5,v.JF,i.UX]}),e})()}}]);